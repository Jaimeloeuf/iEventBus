<!DOCTYPE html>
<html>

<head>
    <!-- Import the EventBus function -->
    <script src="../src/index.js"></script>

    <script>
        // Test function to demo the use of the EventBus factory function.
        function test() {
            // Utility function binding / Function alias
            const print = console.log;

            // Construct a new EventBus with 2 type of events
            const bus = EventBus(["training", "play"]);

            // Show all the events currently stored
            print(bus.events)

            // Add 2 more events
            bus.addEvents(["test", "myevent"])

            // Show all the events currently stored after the 2 additional events
            print(bus.events)

            // Add a event handler for the training event
            bus.on.training(() => print("on training 1"))

            // Add a Second event handler for the training event
            bus.on.training(() => print("on training 2"))

            // Add a event handler for the test event
            bus.on.test(() => print("test event fired"))

            // Continuosly fire off "training" and "test" events
            setInterval(() => {
                bus.fire(bus.events.training)
                bus.fire(bus.events.test)
            }, 2000);
        }

        // Run the test function.
        test();
    </script>
</head>

<body>
    <h1>EventBus Factory function test</h1>
</body>

</html>